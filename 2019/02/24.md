# Redux conventions

Based on the discussion about [prefixing action
types](https://github.com/dhis2/notes/issues/18) some conventions can be
extracted for how to use Redux.

Austin mentioned an article about [Redux best
practices](https://medium.com/@kylpo/redux-best-practices-eef55a20cc72)
which we can use as inspiration.

## Utilities

- Use [redux-actions](https://github.com/redux-utilities/redux-actions)
  to create and handle actions
- Use [redux-thunk](https://github.com/reduxjs/redux-thunk) to deal with
  logic that has side-effects (async, api, etc.)
- Use [reselect](https://github.com/reduxjs/reselect) for memoized
  selectors
- Use [normalizr](https://github.com/paularmstrong/normalizr) for
  simpler reducer composition

## Principles

- **Reducers**: are
  [deterministic](https://github.com/reduxjs/redux/issues/1171#issuecomment-205888533)
  and pure
- **Selectors**: to compute derived data
- **Compose reducers**:
  > Think of Redux as a tree of your reducers (like reactâ€™s render tree
  > of components). Both are just compositions of functions.
- All application state belongs in the Redux store.

## Naming

- Action name: `<NOUN>_<VERB>`
  e.g. `REPORT_COLLABORATOR_PERMISSIONS_ADD`, `REPORT_DATA_FETCH`

- Action creator name: `<verb><Noun>`
  e.g. `activateFilter`, `fetchReportData`

- Selector name: `get<Noun>`
  e.g. `getReportData()`, `getActiveFilter()`

## Future

- [Dynamic action
  naming](https://github.com/dhis2/notes/issues/18#issuecomment-466974138)
  could be useful to enable functionally isolated components to hook
  into the application Redux store, which would allow for these
  components to interact without knowing about each other beforehand.
  This could allow us to compose entire applications based on these
  components.
